--
-- PostgreSQL database dump
--

-- Dumped from database version 9.5.2
-- Dumped by pg_dump version 9.5.2

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: action; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE action (
    id integer NOT NULL,
    action_name character varying(75),
    rating real
);


ALTER TABLE action OWNER TO city4agedb;

--
-- Name: action_id_seq; Type: SEQUENCE; Schema: public; Owner: city4agedb
--

CREATE SEQUENCE action_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE action_id_seq OWNER TO city4agedb;

--
-- Name: extra; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE extra (
    id integer NOT NULL,
    pilot character varying(75),
    city character varying(50),
    action_id integer
);


ALTER TABLE extra OWNER TO city4agedb;

--
-- Name: extra_id_seq; Type: SEQUENCE; Schema: public; Owner: city4agedb
--

CREATE SEQUENCE extra_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE extra_id_seq OWNER TO city4agedb;

--
-- Name: location; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE location (
    id integer NOT NULL,
    location character varying(75)
);


ALTER TABLE location OWNER TO city4agedb;

--
-- Name: location_id_seq; Type: SEQUENCE; Schema: public; Owner: city4agedb
--

CREATE SEQUENCE location_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE location_id_seq OWNER TO city4agedb;

--
-- Name: payload; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE payload (
    id integer NOT NULL,
    "position" character varying(75),
    user_id integer,
    action_id integer
);


ALTER TABLE payload OWNER TO city4agedb;

--
-- Name: payload_id_seq; Type: SEQUENCE; Schema: public; Owner: city4agedb
--

CREATE SEQUENCE payload_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE payload_id_seq OWNER TO city4agedb;

--
-- Name: user; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE "user" (
    id integer NOT NULL,
    username text NOT NULL,
    password text NOT NULL,
    name character varying(50),
    lastname character varying(50),
    genre character varying(12),
    age integer
);


ALTER TABLE "user" OWNER TO city4agedb;

--
-- Name: user_action_rel; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE user_action_rel (
    user_id integer NOT NULL,
    action_id integer NOT NULL,
    date timestamp without time zone
);


ALTER TABLE user_action_rel OWNER TO city4agedb;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: city4agedb
--

CREATE SEQUENCE user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE user_id_seq OWNER TO city4agedb;

--
-- Name: user_location_rel; Type: TABLE; Schema: public; Owner: city4agedb
--

CREATE TABLE user_location_rel (
    user_id integer NOT NULL,
    location_id integer NOT NULL,
    date timestamp without time zone
);


ALTER TABLE user_location_rel OWNER TO city4agedb;

--
-- Data for Name: action; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY action (id, action_name, rating) FROM stdin;
\.


--
-- Name: action_id_seq; Type: SEQUENCE SET; Schema: public; Owner: city4agedb
--

SELECT pg_catalog.setval('action_id_seq', 1, false);


--
-- Data for Name: extra; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY extra (id, pilot, city, action_id) FROM stdin;
\.


--
-- Name: extra_id_seq; Type: SEQUENCE SET; Schema: public; Owner: city4agedb
--

SELECT pg_catalog.setval('extra_id_seq', 1, false);


--
-- Data for Name: location; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY location (id, location) FROM stdin;
\.


--
-- Name: location_id_seq; Type: SEQUENCE SET; Schema: public; Owner: city4agedb
--

SELECT pg_catalog.setval('location_id_seq', 1, false);


--
-- Data for Name: payload; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY payload (id, "position", user_id, action_id) FROM stdin;
\.


--
-- Name: payload_id_seq; Type: SEQUENCE SET; Schema: public; Owner: city4agedb
--

SELECT pg_catalog.setval('payload_id_seq', 1, false);


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY "user" (id, username, password, name, lastname, genre, age) FROM stdin;
1	admin	$2a$13$VSfnOtqqtaVtU6H.0ndvD.jurgFHydtUV/5C1bOTFh7qQH6vlvueG	Ruben	Mulero	male	78
\.


--
-- Data for Name: user_action_rel; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY user_action_rel (user_id, action_id, date) FROM stdin;
\.


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: city4agedb
--

SELECT pg_catalog.setval('user_id_seq', 1, true);


--
-- Data for Name: user_location_rel; Type: TABLE DATA; Schema: public; Owner: city4agedb
--

COPY user_location_rel (user_id, location_id, date) FROM stdin;
\.


--
-- Name: action_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY action
    ADD CONSTRAINT action_pkey PRIMARY KEY (id);


--
-- Name: extra_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY extra
    ADD CONSTRAINT extra_pkey PRIMARY KEY (id);


--
-- Name: location_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY location
    ADD CONSTRAINT location_pkey PRIMARY KEY (id);


--
-- Name: payload_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY payload
    ADD CONSTRAINT payload_pkey PRIMARY KEY (id);


--
-- Name: user_action_rel_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY user_action_rel
    ADD CONSTRAINT user_action_rel_pkey PRIMARY KEY (user_id, action_id);


--
-- Name: user_location_rel_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY user_location_rel
    ADD CONSTRAINT user_location_rel_pkey PRIMARY KEY (user_id, location_id);


--
-- Name: user_pkey; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY "user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: user_username_key; Type: CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY "user"
    ADD CONSTRAINT user_username_key UNIQUE (username);


--
-- Name: extra_action_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY extra
    ADD CONSTRAINT extra_action_id_fkey FOREIGN KEY (action_id) REFERENCES action(id);


--
-- Name: payload_action_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY payload
    ADD CONSTRAINT payload_action_id_fkey FOREIGN KEY (action_id) REFERENCES action(id);


--
-- Name: payload_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY payload
    ADD CONSTRAINT payload_user_id_fkey FOREIGN KEY (user_id) REFERENCES "user"(id);


--
-- Name: user_action_rel_action_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY user_action_rel
    ADD CONSTRAINT user_action_rel_action_id_fkey FOREIGN KEY (action_id) REFERENCES action(id);


--
-- Name: user_action_rel_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY user_action_rel
    ADD CONSTRAINT user_action_rel_user_id_fkey FOREIGN KEY (user_id) REFERENCES "user"(id);


--
-- Name: user_location_rel_location_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY user_location_rel
    ADD CONSTRAINT user_location_rel_location_id_fkey FOREIGN KEY (location_id) REFERENCES location(id);


--
-- Name: user_location_rel_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: city4agedb
--

ALTER TABLE ONLY user_location_rel
    ADD CONSTRAINT user_location_rel_user_id_fkey FOREIGN KEY (user_id) REFERENCES "user"(id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

